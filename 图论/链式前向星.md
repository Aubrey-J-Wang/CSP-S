$\mathbf{Program}\text{ edge+bfs+dfs}$
$---------------------$
$\mathbf{Input} \text{: Graph }G.$
$\mathbf{Output} \text{: The sequence of visiting }G\text{ using DFS and BFS}$.

$01\mid\mathbf{Program\ begin}$
$02\mid\mathbf{Structure}\mathrm{\ edge\text{:} }$
$03\mid\ \ \ \ \ {to_\N, next_\N}$
$04\mid \mathrm{and\ define\ edge\ } e_{1,2,\cdots, 501} \gets (0,0) $
$05\mid { cnt\gets 1,head_{1,2,\cdots 101}\gets 0, visited_{1,2,\cdots, 101}\gets \mathrm{false}}$
$06\mid n,m\gets \mathrm{input\ in\ order}$
$07\mid \mathrm{}$
$08\mid \mathbf{Procedure}\mathrm{\ add}(u_\N,v_\N)\text{:}$
$09\mid\ \ \ \ {to\ \mathrm{of}\ e_{cnt} \gets v}$
$10\mid\ \ \ \ {next\ \mathrm{of}\ e_{cnt} \gets head_u}$
$11\mid\ \ \ \ {head_u\gets cnt}$
$12\mid\ \ \ \ { cnt\gets cnt+1}$
$13\mid \mathrm{ }$
$14\mid \mathbf{For}\ m\mathrm{\ times\ \mathbf{do}\text{:}}$
$15\mid\ \ \ \ x,y\mathrm{\gets input\ in\ order }$
$16\mid\ \ \ \ \mathrm{add}(x,y) $
$17\mid \mathrm{ }$
$18\mid \mathbf{Procedure}\ \mathrm{ dfs}(k_\N)\text{:} $
$19\mid\ \ \ \ {visited_k \gets \mathrm{true} }$
$20\mid\ \ \ \ \mathrm{print\ } k\text{ with half-width break}$
$21\mid \ \ \ \ i \gets head_k$
$22\mid \ \ \ \ \mathbf{While}\ i\ne 0\ \mathbf{do\text{:} }$
$23\mid \ \ \ \ \ \ \ \ \mathbf{if}\ vis_{to\ \mathrm{of}\ e_i} \ne \mathrm{true}\text{: } \mathrm{dfs}(to\ \mathrm{of}\ e_i)$
$24\mid \mathrm{ }$
$25\mid \mathbf{Procedure} \mathrm{\ bfs}(st_\N)\text{:}$
$26\mid \mathrm{\ \ \ \ queue\ } q_\Z \gets \empty$
$27\mid \mathrm{\ \ \ \ push\ } st \mathrm{\ to\ front\ of\ }q$
$28\mid \ \ \ \ visited_{st}\gets \mathrm{true}$
$29\mid \ \ \ \ \mathbf{While}\ q\ \mathrm{is\ not\ empty\ \mathbf{do}\text{:}}$
$30\mid \ \ \ \ \ \ \ \ now\gets \mathrm{front\ of\ }q$
$31\mid \ \ \ \ \ \ \ \ \text{print } now \text{ with half-width break}$
$32\mid \mathrm{\ \ \ \ \ \ \ \ pop\ front\ of\ }q$
$33\mid \ \ \ \ \ \ \ \ i \gets head_{now}$
$34\mid {\ \ \ \ \ \ \ \ \mathbf{While}\ i \ne 0 \ \mathbf{do}\text{:}}$
$35\mid \ \ \ \ \ \ \ \ \ \ \ \ \mathbf{if}\ vis_{to\ \mathrm{of}\ e_i} \ne \mathrm{true}\text{:}$
$36\mid \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mathrm{push}\ to\ \mathrm{of}\ e_i \ \mathrm{to}\ q$
$37\mid \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vis_{to\ \mathrm{of}\ e_i} \gets \mathrm{true}$
$38\mid \mathrm{ }$
$39\mid \mathrm{ dfs(1)}$
$40\mid \mathrm{print\ endline}$
$41\mid vis_{1,2,\cdots 101} \gets \mathrm{false }$
$42\mid \mathrm{bfs(1)}$
$43\mid \mathrm{print\ endline}$
$44\mid \mathrm{ }$
$45\mid \mathbf{Program\ End}$

